(function(e){function t(t){for(var n,a,r=t[0],c=t[1],d=t[2],m=0,p=[];m<r.length;m++)a=r[m],i[a]&&p.push(i[a][0]),i[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,d||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],n=!0,r=1;r<s.length;r++){var c=s[r];0!==i[c]&&(n=!1)}n&&(o.splice(t--,1),e=a(a.s=s[0]))}return e}var n={},i={app:0},o=[];function a(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=n,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(s,n,function(t){return e[t]}.bind(null,n));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/billshare/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var d=0;d<r.length;d++)t(r[d]);var l=c;o.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0f3c":function(e,t,s){"use strict";var n=s("b44e"),i=s.n(n);i.a},"269d":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("f751"),s("097d");var n=s("2b0e"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},o=[],a={name:"app",mounted:function(){this.init()},methods:{init:function(){}}},r=a,c=s("2877"),d=Object(c["a"])(r,i,o,!1,null,null,null),l=d.exports,m=s("59ca"),p=s.n(m),u=(s("ea7b"),s("8c4f")),h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[s("div",{staticClass:"tb"},[s("div",{staticClass:"tbT"},[e.date?s("div",{staticClass:"pT",domProps:{textContent:e._s(e.getTitle)}}):e._e()]),s("div",{staticClass:"tbB"},[s("div",{staticClass:"pN"},[s("div",[s("i",{staticClass:"bs-user"}),e._v("Hi "+e._s(e.currentUser.displayName))]),s("div",{staticClass:"lo",on:{click:e.logout}},[e._v("Logout")])])])]),s("div",{staticClass:"cW"},[s("PersonListing",{staticClass:"uW",attrs:{personCollection:e.personCollection}}),s("ExpenseListing",{staticClass:"eW",attrs:{personCollection:e.personCollection,settings:e.settings}})],1)])},v=[],f=(s("a481"),s("cebc")),x=s("2f62"),g=(s("e71f"),{firebaseConfig:{apiKey:"AIzaSyB1gTLWPHWOHCZFhs1yGuouPZ_F9anANLw",authDomain:"billshare-4f2ac.firebaseapp.com",databaseURL:"https://billshare-4f2ac.firebaseio.com",projectId:"billshare-4f2ac",storageBucket:"billshare-4f2ac.appspot.com",messagingSenderId:"810948359815"},adminUid:"tMfUwcCyAlVEBjRT6oUVrRIjQ8v1"});p.a.initializeApp(g.firebaseConfig);var C=p.a.firestore(),E=p.a.auth(),P=E.currentUser,b=C.collection("persons"),H=C.collection("expenses"),O={db:C,auth:E,currentUser:P,personCollection:b,expenseCollection:H},X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[0==e.personCollection.length?s("div",[e._v("No Persons Added")]):e._e(),e._l(e.personCollection,function(t){return s("div",{key:t.id},[s("div",{domProps:{textContent:e._s(t.name)}}),t.modified?s("div",[s("div",{domProps:{textContent:e._s(t.modify.toPay)}}),e._v("\n      (\n      "),s("div",{domProps:{textContent:e._s(t.toPay+" "+("add"===t.modify.mode?"+":"-")+" "+t.modify.change)}}),e._v("\n      )\n      "),t.change?s("div",{domProps:{textContent:e._s(t.change)}}):e._e()]):e._e(),t.modified?e._e():s("div",{staticClass:"pa",domProps:{textContent:e._s(t.toPay)}}),e.isAdmin?s("div",{on:{click:function(s){return e.deletePeople(t.id)}}},[e._v("×")]):e._e()])}),e.isAdmin?s("Person"):e._e()],2)},_=[],F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isAdmin?s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"Name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),s("button",{on:{click:e.addPerson}},[e._v("Add Person")])]):e._e()},U=[],Q=(s("7f7f"),{name:"PersonEditor",computed:Object(f["a"])({},Object(x["b"])(["isAdmin"])),data:function(){return{name:"",photo:null}},methods:{addPerson:function(){var e=this;if(this.name&&this.name.trim().length>1){var t={createdOn:new Date,name:this.name,photo:this.photo};O.personCollection.add(t).then(function(s){t.id=s.id,e.$parent.init()}).catch(function(e){console.log(e)})}}}}),w=Q,N=Object(c["a"])(w,F,U,!1,null,null,null),I=N.exports,y={name:"PersonListing",components:{Person:I},computed:Object(f["a"])({},Object(x["b"])(["isAdmin"])),props:["personCollection"]},W=y,A=Object(c["a"])(W,X,_,!1,null,null,null),S=A.exports,k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"ewT"},[e._v("\n    Expenses "),s("span",[e._v("("+e._s(e.expenseCollection.length)+")")])]),s("div",{staticClass:"ewCon"},e._l(e.expenseCollection,function(t,n){return s("Expense",{key:t.id,attrs:{expense:t,personCollection:e.personCollection,expenseIteration:n,expand:t.expand,settings:e.settings}})}),1),s("div",{staticClass:"neBut bs-add",on:{click:e.addExpense}})])},Y=[],z=(s("ac6a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"billC",attrs:{id:"expense_"+e.expense.id}},[n("div",{staticClass:"neW",class:{expanded:e.expand}},[e.error?n("div",{staticClass:"err"},[n("div",{domProps:{textContent:e._s(e.error)}})]):e._e(),n("div",{staticClass:"eWHead",class:{edit:"view"!==e.mode,expanded:e.expand},on:{click:function(t){return e.expandExpense(e.expense)}}},[n("div",{staticClass:"eWHeadLeft"},["view"!==e.mode?n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"Enter Name"},domProps:{value:e.name},on:{click:function(t){return t.stopPropagation(),e.noAct(t)},input:function(t){t.target.composing||(e.name=t.target.value)}}}):n("span",{attrs:{id:"expenseName_"+e.expense.id},domProps:{textContent:e._s(this.name)}}),"view"===e.mode?n("i",{staticClass:"bs-edit",on:{click:function(t){return e.editClick(t)}}}):e._e(),"view"===e.mode?n("i",{staticClass:"bs-delete",on:{click:function(t){t.stopPropagation(),e.mode="edit",e.expand=!0}}}):e._e(),e.checkTemp?n("div",{staticClass:"neHt"},[n("span",{staticClass:"bs-save"},[e._v(" Not Saved")])]):e._e()]),n("div",{staticClass:"eWHeadRight",class:{expanded:e.expand}},["view"!==e.mode?n("input",{directives:[{name:"model",rawName:"v-model",value:e.date,expression:"date"}],attrs:{type:"date",placeholder:"Enter Date"},domProps:{value:e.date},on:{click:function(t){return t.stopPropagation(),e.noAct(t)},input:function(t){t.target.composing||(e.date=t.target.value)}}}):this.date?n("span",{domProps:{textContent:e._s(this.date)}}):e._e(),e.expand&&"view"===e.mode?e._e():n("span",{staticClass:"currency",domProps:{textContent:e._s(e.settings.currency)}}),"view"!==e.mode&&e.expand?n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.cost,expression:"cost",modifiers:{number:!0}}],attrs:{type:"number",placeholder:"Enter Amount"},domProps:{value:e.cost},on:{click:function(t){return t.stopPropagation(),e.noAct(t)},input:function(t){t.target.composing||(e.cost=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}):e.expand?e._e():n("span",{domProps:{textContent:e._s(this.cost)}})])]),"view"!==e.mode?n("div",{staticClass:"exPc",class:{expanded:e.expand}},[e.settings&&e.settings.show.help?n("div",[e._m(0),e._m(1)]):e._e(),e._m(2),n("div",{staticClass:"exPcTab"},[n("div",{staticClass:"exPcL"},e._l(e.availablePersons,function(t){return n("div",{key:t.id,staticClass:"exPcP"},[e._m(3,!0),n("div",{staticClass:"pName",domProps:{textContent:e._s(t.name)}}),n("span",{staticClass:"currency",domProps:{textContent:e._s(e.settings.currency)}}),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.cost,expression:"person.cost",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.cost},on:{input:function(s){s.target.composing||e.$set(t,"cost",e._n(s.target.value))},blur:function(t){return e.$forceUpdate()}}}),n("div",{staticClass:"but",on:{click:function(s){return e.addPerson(t)}}},[e._v("+")])])}),0),n("div",{staticClass:"exPcR"},e._l(e.selectedPersons,function(t,s){return n("div",{key:t.id,staticClass:"exPcP"},[e._m(4,!0),n("div",{staticClass:"pName",domProps:{textContent:e._s(t.name)}}),n("span",{staticClass:"currency",domProps:{textContent:e._s(e.settings.currency)}}),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.cost,expression:"person.cost",modifiers:{number:!0}}],attrs:{type:"number",disabled:"disabled"},domProps:{value:t.cost},on:{input:function(s){s.target.composing||e.$set(t,"cost",e._n(s.target.value))},blur:function(t){return e.$forceUpdate()}}}),n("div",{staticClass:"but",on:{click:function(n){return e.removePerson(t,s)}}},[e._v("-")])])}),0)])]):e._e(),"view"===e.mode?n("div",{staticClass:"exPc",class:{expanded:e.expand}},[n("div",{staticClass:"exPe"},e._l(e.expense.persons,function(t){return n("div",{key:t.id,staticClass:"exPeC"},[n("div",{staticClass:"exPeCRight"},[n("div",[(t.photo,n("img",{staticClass:"pPic",attrs:{src:s("c824")}})),n("span",{domProps:{textContent:e._s(t.name)}})]),n("div",{staticClass:"m45"},[n("span",{staticClass:"currency",domProps:{textContent:e._s(e.settings.currency)}}),n("span",{domProps:{textContent:e._s(t.cost)}})])])])}),0)]):e._e(),n("div",{staticClass:"exTot",attrs:{id:"expenseTot_"+e.expense.id}},[n("div",[e._v("Total")]),e.expand&&"view"!==e.mode?n("div",{staticClass:"butPB",on:{click:e.addExpense}},[n("i",{staticClass:"bs-save"}),e._v(" Add Expense\n      ")]):e._e(),e.expand&&"view"!==e.mode?n("div",{staticClass:"butSB",on:{click:e.previewExpense}},[n("i",{staticClass:"bs-preview"}),e._v(" Preview Expense\n      ")]):e._e(),n("div",[n("span",{staticClass:"currency",domProps:{textContent:e._s(e.settings.currency)}}),n("span",{domProps:{textContent:e._s(this.cost)}})])])])])}),M=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"neHt"},[s("span",{staticClass:"bs-help"},[e._v("Add Persons to Billed Persons from Available Persons to split the bill amount")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"neHt"},[s("span",{staticClass:"bs-help"},[e._v(" To auto calculate bill set '0' as cost")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"exPcTitle"},[s("div",{staticClass:"exPcL"},[s("div",{staticClass:"exPcT"},[e._v("Available Persons")])]),s("div",{staticClass:"exPcR"},[s("div",{staticClass:"exPcT"},[e._v("Billed Persons")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pCont"},[n("img",{staticClass:"pPic",attrs:{src:s("c824")}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pCont"},[n("img",{staticClass:"pPic",attrs:{src:s("c824")}})])}],j=(s("28a5"),s("f499")),L=s.n(j),R=s("5176"),V=s.n(R),$={name:"ExpenseEditor",computed:Object(f["a"])({},Object(x["b"])(["isAdmin"]),{checkTemp:function(){return this.expense&&0===this.expense.id.indexOf("TEMP")&&"view"==this.mode}}),props:["personCollection","expense","expenseIteration","expand","settings"],data:function(){return{name:"",cost:null,costValidate:!1,date:null,persons:{},selectedPersons:[],availablePersons:[],error:null,mode:"view",edit:!1}},mounted:function(){this.init()},methods:{init:function(){this.expense&&this.expense.id&&"new"===this.expense.id?this.mode="add":this.expense&&this.expense.id?this.mode=this.edit?"edit":"view":this.mode="view",this.initPersons()},expandExpense:function(e){if(this.expand){if("new"!==e.id){var t=V()({},this.$route.query);delete t.expense,this.$router.push({query:t})}else if(this.expense.id="TEMP_"+Math.random(),this.name&&""==this.name&&(this.name="Unnamed"),this.expense.name=this.name,this.expense.persons={},"new"===this.$route.query.expense){var s=V()({},this.$route.query);delete s.expense,this.$router.push({query:s})}}else this.$parent.expandFromChild(e.id)},editClick:function(e){this.edit=!0,this.mode="edit",this.expand&&e.stopPropagation()},noAct:function(){},goBack:function(){this.$parent.show.editor=!1},initExpense:function(){this.availablePersons=[],this.selectedPersons=[],this.persons={},this.costValidate=!1,this.name&&0==this.name.trim().length&&(this.name=""),this.date=null},initPersons:function(){if(this.initExpense(),this.personCollection&&this.personCollection.length!=this.availablePersons.length){for(var e=0;e<this.personCollection.length;e++){var t=this.personCollection[e];this.availablePersons.push({id:t.id,name:t.name,cost:0})}this.expense.id&&"new"!==this.expense.id&&"edit"!==this.mode&&this.initData()}},initData:function(){this.name=this.expense.name,this.cost=this.expense.cost,this.date=this.expense.date;JSON.parse(L()(this.availablePersons));var e=this.availablePersons.length;while(e--)this.expense.persons[this.availablePersons[e].id]&&this.addPerson(this.expense.persons[this.availablePersons[e].id],e,!0);this.recalculateSplit()},addExpense:function(){if(this.name&&this.name.trim().length>0&&this.cost>0&&this.costValidate)new Date,this.name,this.cost,this.date&&new Date(this.date),this.persons;else this.costValidate?this.showError("Invalid Bill"):this.showError("Billed Person Amount Invalid")},previewExpense:function(){if(this.name&&this.name.trim().length>0&&this.cost>0&&this.costValidate){var e={createdOn:new Date,name:this.name,cost:this.cost,date:this.date?new Date(this.date):null,persons:this.persons};for(var t in e.persons)for(var s=0;s<this.personCollection.length;s++)t===this.personCollection[s].id&&(this.personCollection[s].expenses["<TEMP>"]={cost:e.persons[t].cost,id:"<TEMP>"},this.personCollection[s].modify={mode:"add",toPay:this.personCollection[s].toPay+e.persons[t].cost,change:e.persons[t].cost},this.personCollection[s].modified=!0)}else this.costValidate?this.showError("Invalid Bill"):this.showError("Billed Person Amount Invalid")},showError:function(e){this.error=e,setTimeout(this.hideError,2e3)},hideError:function(){this.error=null},addPerson:function(e,t,s){this.persons[e.id]||(e.cost<this.cost?(this.persons[e.id]=e.id,s?this.selectedPersons.push(e):this.selectedPersons.push({id:e.id,name:e.name,cost:e.cost,omitSplit:e.cost>0}),this.availablePersons.splice(t,1),s||this.recalculateSplit()):void 0==this.cost||0===this.cost?this.showError("Expense Cost Cannot be Zero"):this.showError("Individual Cost must be less than total bill cost to share bill"))},recalculateSplit:function(){var e=0,t=0;this.selectedPersons.forEach(function(s){s.omitSplit?t+=s.cost:e++});for(var s=(this.cost-t)/e,n=0,i=0;i<this.selectedPersons.length;i++)this.selectedPersons[i].omitSplit||(this.selectedPersons[i].cost=s),n+=this.selectedPersons[i].cost,this.persons[this.selectedPersons[i].id]=this.selectedPersons[i];this.costValidate=n===this.cost},removePerson:function(e,t){this.persons[e.id]&&(delete this.persons[e.id],this.availablePersons.push({id:e.id,name:e.name,cost:0}),this.selectedPersons.splice(t,1),this.recalculateSplit())},costReset:function(e){this.split.amount=e}},watch:{personCollection:function(){this.initPersons()},cost:function(){this.initPersons()},expand:function(){this.expand||(console.log("gggg"),this.mode="view")}}},Z=$,B=(s("0f3c"),Object(c["a"])(Z,z,M,!1,null,null,null)),T=B.exports,J=s("5118"),K={name:"ExpenseListing",props:["settings","personCollection"],computed:Object(f["a"])({},Object(x["b"])(["isAdmin"])),components:{Expense:T},data:function(){return{expenseCollection:[]}},mounted:function(){this.initExpenses()},methods:{initExpenses:function(){this.expenseCollection=[{cost:100,expand:!1,createdOn:{seconds:1551761944,nanoseconds:567e6},date:"22/08/2019",name:"B1",persons:{Hk8MhHaVI4mmgZCFzNOc:{cost:45,id:"Hk8MhHaVI4mmgZCFzNOc1",name:"Hari 3",omitSplit:!1},XO1WQUh6mE3ALI9bhfYF:{cost:45,id:"XO1WQUh6mE3ALI9bhfYF",name:"Hari 2",omitSplit:!1},c1EWlrtEXQURuYc6XNvi:{cost:10,id:"c1EWlrtEXQURuYc6XNvi",name:"Hari",omitSplit:!0}},id:"JUKFvvgzQ19QX6xFCj9P1"},{cost:100,expand:!1,createdOn:{seconds:1551761944,nanoseconds:567e6},date:"22/08/2019",name:"B1",persons:{Hk8MhHaVI4mmgZCFzNOc:{cost:45,id:"Hk8MhHaVI4mmgZCFzNOc",name:"Hari 3",omitSplit:!1},XO1WQUh6mE3ALI9bhfYF:{cost:45,id:"XO1WQUh6mE3ALI9bhfYF",name:"Hari 2",omitSplit:!1},c1EWlrtEXQURuYc6XNvi:{cost:10,id:"c1EWlrtEXQURuYc6XNvi",name:"Hari",omitSplit:!0}},id:"JUKFvvgzQ19QX6xFCj9P2"},{cost:100,expand:!1,createdOn:{seconds:1551761944,nanoseconds:567e6},date:"22/08/2019",name:"B1",persons:{Hk8MhHaVI4mmgZCFzNOc:{cost:45,id:"Hk8MhHaVI4mmgZCFzNOc",name:"Hari 3",omitSplit:!1},XO1WQUh6mE3ALI9bhfYF:{cost:45,id:"XO1WQUh6mE3ALI9bhfYF",name:"Hari 2",omitSplit:!1},c1EWlrtEXQURuYc6XNvi:{cost:10,id:"c1EWlrtEXQURuYc6XNvi",name:"Hari",omitSplit:!0}},id:"JUKFvvgzQ19QX6xFCj9P3"},{cost:100,expand:!1,createdOn:{seconds:1551761944,nanoseconds:567e6},date:"22/08/2019",name:"B1",persons:{Hk8MhHaVI4mmgZCFzNOc:{cost:45,id:"Hk8MhHaVI4mmgZCFzNOc",name:"Hari 3",omitSplit:!1},XO1WQUh6mE3ALI9bhfYF:{cost:45,id:"XO1WQUh6mE3ALI9bhfYF",name:"Hari 2",omitSplit:!1},c1EWlrtEXQURuYc6XNvi:{cost:10,id:"c1EWlrtEXQURuYc6XNvi",name:"Hari",omitSplit:!0}},id:"JUKFvvgzQ19QX6xFCj9P4"},{cost:100,expand:!1,createdOn:{seconds:1551761944,nanoseconds:567e6},date:"22/08/2019",name:"B1",persons:{Hk8MhHaVI4mmgZCFzNOc:{cost:45,id:"Hk8MhHaVI4mmgZCFzNOc",name:"Hari 3",omitSplit:!1},XO1WQUh6mE3ALI9bhfYF:{cost:45,id:"XO1WQUh6mE3ALI9bhfYF",name:"Hari 2",omitSplit:!1},c1EWlrtEXQURuYc6XNvi:{cost:10,id:"c1EWlrtEXQURuYc6XNvi",name:"Hari",omitSplit:!0}},id:"JUKFvvgzQ19QX6xFCj9P5"},{cost:100,expand:!1,createdOn:{seconds:1551761944,nanoseconds:567e6},date:"22/08/2019",name:"B1",persons:{Hk8MhHaVI4mmgZCFzNOc:{cost:45,id:"Hk8MhHaVI4mmgZCFzNOc",name:"Hari 3",omitSplit:!1},XO1WQUh6mE3ALI9bhfYF:{cost:45,id:"XO1WQUh6mE3ALI9bhfYF",name:"Hari 2",omitSplit:!1},c1EWlrtEXQURuYc6XNvi:{cost:10,id:"c1EWlrtEXQURuYc6XNvi",name:"Hari",omitSplit:!0}},id:"JUKFvvgzQ19QX6xFCj9P6"},{cost:100,expand:!1,createdOn:{seconds:1551761944,nanoseconds:567e6},date:"22/08/2019",name:"B1",persons:{Hk8MhHaVI4mmgZCFzNOc:{cost:45,id:"Hk8MhHaVI4mmgZCFzNOc",name:"Hari 3",omitSplit:!1},XO1WQUh6mE3ALI9bhfYF:{cost:45,id:"XO1WQUh6mE3ALI9bhfYF",name:"Hari 2",omitSplit:!1},c1EWlrtEXQURuYc6XNvi:{cost:10,id:"c1EWlrtEXQURuYc6XNvi",name:"Hari",omitSplit:!0}},id:"JUKFvvgzQ19QX6xFCj9P7"},{cost:100,expand:!1,createdOn:{seconds:1551761944,nanoseconds:567e6},date:"22/08/2019",name:"B1",persons:{Hk8MhHaVI4mmgZCFzNOc:{cost:45,id:"Hk8MhHaVI4mmgZCFzNOc",name:"Hari 3",omitSplit:!1},XO1WQUh6mE3ALI9bhfYF:{cost:45,id:"XO1WQUh6mE3ALI9bhfYF",name:"Hari 2",omitSplit:!1},c1EWlrtEXQURuYc6XNvi:{cost:10,id:"c1EWlrtEXQURuYc6XNvi",name:"Hari",omitSplit:!0}},id:"JUKFvvgzQ19QX6xFCj9P8"},{cost:100,expand:!1,createdOn:{seconds:1551761944,nanoseconds:567e6},date:"22/08/2019",name:"B1",persons:{Hk8MhHaVI4mmgZCFzNOc:{cost:45,id:"Hk8MhHaVI4mmgZCFzNOc",name:"Hari 3",omitSplit:!1},XO1WQUh6mE3ALI9bhfYF:{cost:45,id:"XO1WQUh6mE3ALI9bhfYF",name:"Hari 2",omitSplit:!1},c1EWlrtEXQURuYc6XNvi:{cost:10,id:"c1EWlrtEXQURuYc6XNvi",name:"Hari",omitSplit:!0}},id:"JUKFvvgzQ19QX6xFCj9P9"},{cost:100,expand:!1,createdOn:{seconds:1551761944,nanoseconds:567e6},date:"22/08/2019",name:"B1",persons:{Hk8MhHaVI4mmgZCFzNOc:{cost:45,id:"Hk8MhHaVI4mmgZCFzNOc",name:"Hari 3",omitSplit:!1},XO1WQUh6mE3ALI9bhfYF:{cost:45,id:"XO1WQUh6mE3ALI9bhfYF",name:"Hari 2",omitSplit:!1},c1EWlrtEXQURuYc6XNvi:{cost:10,id:"c1EWlrtEXQURuYc6XNvi",name:"Hari",omitSplit:!0}},id:"JUKFvvgzQ19QX6xFCj9P11"},{cost:100,expand:!1,createdOn:{seconds:1551761944,nanoseconds:567e6},date:"22/08/2019",name:"B1",persons:{Hk8MhHaVI4mmgZCFzNOc:{cost:45,id:"Hk8MhHaVI4mmgZCFzNOc",name:"Hari 3",omitSplit:!1},XO1WQUh6mE3ALI9bhfYF:{cost:45,id:"XO1WQUh6mE3ALI9bhfYF",name:"Hari 2",omitSplit:!1},c1EWlrtEXQURuYc6XNvi:{cost:10,id:"c1EWlrtEXQURuYc6XNvi",name:"Hari",omitSplit:!0}},id:"JUKFvvgzQ19QX6xFCj9P12"},{cost:100,expand:!1,createdOn:{seconds:1551761944,nanoseconds:567e6},date:"22/08/2019",name:"B1",persons:{Hk8MhHaVI4mmgZCFzNOc:{cost:45,id:"Hk8MhHaVI4mmgZCFzNOc",name:"Hari 3",omitSplit:!1},XO1WQUh6mE3ALI9bhfYF:{cost:45,id:"XO1WQUh6mE3ALI9bhfYF",name:"Hari 2",omitSplit:!1},c1EWlrtEXQURuYc6XNvi:{cost:10,id:"c1EWlrtEXQURuYc6XNvi",name:"Hari",omitSplit:!0}},id:"JUKFvvgzQ19QX6xFCj9P13"},{cost:100,expand:!1,createdOn:{seconds:1551761944,nanoseconds:567e6},date:"22/08/2019",name:"B1",persons:{Hk8MhHaVI4mmgZCFzNOc:{cost:45,id:"Hk8MhHaVI4mmgZCFzNOc",name:"Hari 3",omitSplit:!1},XO1WQUh6mE3ALI9bhfYF:{cost:45,id:"XO1WQUh6mE3ALI9bhfYF",name:"Hari 2",omitSplit:!1},c1EWlrtEXQURuYc6XNvi:{cost:10,id:"c1EWlrtEXQURuYc6XNvi",name:"Hari",omitSplit:!0}},id:"JUKFvvgzQ19QX6xFCj9P14"},{cost:100,expand:!1,createdOn:{seconds:1551761944,nanoseconds:567e6},date:"22/08/2019",name:"B1",persons:{Hk8MhHaVI4mmgZCFzNOc:{cost:45,id:"Hk8MhHaVI4mmgZCFzNOc",name:"Hari 3",omitSplit:!1},XO1WQUh6mE3ALI9bhfYF:{cost:45,id:"XO1WQUh6mE3ALI9bhfYF",name:"Hari 2",omitSplit:!1},c1EWlrtEXQURuYc6XNvi:{cost:10,id:"c1EWlrtEXQURuYc6XNvi",name:"Hari",omitSplit:!0}},id:"JUKFvvgzQ19QX6xFCj9P15"},{cost:100,expand:!1,createdOn:{seconds:1551761944,nanoseconds:567e6},date:"22/08/2019",name:"B1",persons:{Hk8MhHaVI4mmgZCFzNOc:{cost:45,id:"Hk8MhHaVI4mmgZCFzNOc",name:"Hari 3",omitSplit:!1},XO1WQUh6mE3ALI9bhfYF:{cost:45,id:"XO1WQUh6mE3ALI9bhfYF",name:"Hari 2",omitSplit:!1},c1EWlrtEXQURuYc6XNvi:{cost:10,id:"c1EWlrtEXQURuYc6XNvi",name:"Hari",omitSplit:!0}},id:"JUKFvvgzQ19QX6xFCj9P16"},{cost:100,expand:!1,createdOn:{seconds:1551761944,nanoseconds:567e6},date:"22/08/2019",name:"B1",persons:{Hk8MhHaVI4mmgZCFzNOc:{cost:45,id:"Hk8MhHaVI4mmgZCFzNOc",name:"Hari 3",omitSplit:!1},XO1WQUh6mE3ALI9bhfYF:{cost:45,id:"XO1WQUh6mE3ALI9bhfYF",name:"Hari 2",omitSplit:!1},c1EWlrtEXQURuYc6XNvi:{cost:10,id:"c1EWlrtEXQURuYc6XNvi",name:"Hari",omitSplit:!0}},id:"JUKFvvgzQ19QX6xFCj9P17"}]},expandExpense:function(){if(this.expenseCollection&&"new"!==this.expenseCollection[0].id){if(this.$route.query.expense&&"new"===this.$route.query.expense){var e=[{id:"new",expand:!1}];this.expenseCollection.forEach(function(t){e.push(t)}),this.expenseCollection=e}for(var t=0;t<this.expenseCollection.length;t++)this.expenseCollection[t].expand=this.$route.query.expense===this.expenseCollection[t].id;if(this.$route.query.expense){var s=document.getElementById("expenseTot_"+this.$route.query.expense);s&&s.scrollIntoView(!1)}}},addExpense:function(){void 0===this.$route.query.expense?this.pushRouter("new"):"new"!==this.$route.query.expense&&this.pushRouter("new")},expenseAdded:function(){this.$parent.init()},expandFromChild:function(e){if("new"===this.expenseCollection[0].id){this.expenseCollection[0].id="TEMP_"+Math.random();var t=this.pushRouter;Object(J["setTimeout"])(function(){t(e)},200)}else this.pushRouter(e)},pushRouter:function(e){xe.push({query:{expense:e}})}},watch:{"$route.query.expense":function(){this.expandExpense()},expenseCollection:function(){Object(J["setTimeout"])(this.expandExpense,250)}}},q=K,D=(s("9719"),Object(c["a"])(q,k,Y,!1,null,null,null)),G=D.exports,ee={name:"home",computed:Object(f["a"])({},Object(x["b"])(["currentUser","isAdmin"]),{getTitle:function(){return this.getMonth(this.date.getMonth()-1)+" "+this.date.getFullYear()+" Expense"}}),components:{PersonListing:S,ExpenseListing:G},mounted:function(){this.init()},data:function(){return{date:null,personCollection:[],settings:{show:{help:!1},currency:"₹"}}},methods:{logout:function(){var e=this;O.auth.signOut().then(function(){e.$store.commit("setCurrentUser",null),e.$router.replace("login")})},init:function(){this.date=new Date,this.initPersons()},initPersons:function(){this.personCollection=[{createdOn:{seconds:1551755372,nanoseconds:44e7},expenses:{JUKFvvgzQ19QX6xFCj9P:{cost:10,date:{seconds:1551761945,nanoseconds:449e6},id:"JUKFvvgzQ19QX6xFCj9P"}},name:"Hari",photo:null,toPay:10,id:"c1EWlrtEXQURuYc6XNvi",modified:!1},{createdOn:{seconds:1551755412,nanoseconds:699e6},expenses:{JUKFvvgzQ19QX6xFCj9P:{cost:45,date:{seconds:1551761945,nanoseconds:452e6},id:"JUKFvvgzQ19QX6xFCj9P"}},name:"Hari 2",photo:null,toPay:45,id:"XO1WQUh6mE3ALI9bhfYF",modified:!1},{createdOn:{seconds:1551755508,nanoseconds:213e6},expenses:{JUKFvvgzQ19QX6xFCj9P:{cost:45,date:{seconds:1551761945,nanoseconds:453e6},id:"JUKFvvgzQ19QX6xFCj9P"}},name:"Hari 3",photo:null,toPay:45,id:"Hk8MhHaVI4mmgZCFzNOc",modified:!1},{createdOn:{seconds:1551755511,nanoseconds:49e7},expenses:{},name:"Hari 4",photo:null,toPay:0,id:"Dfl2KF4MPMX3tkRGodvc",modified:!1},{createdOn:{seconds:1551755511,nanoseconds:49e7},expenses:{},name:"Hari 5",photo:null,toPay:0,id:"DadsF4MPMX3tkRGodcc",modified:!1}]},deletePeople:function(e){O.personCollection.doc(e).delete().then(function(){alert("Person successfully deleted!")}).catch(function(e){console.error("Error removing Person: ",e)})},getMonth:function(e){var t=["Jan","Feb","Mar","Apr","May","Jue","Jul","Aug","Sept","Oct","Nov","Dec"];return-1===e&&(e=t.length-1),t[e]}}},te=ee,se=Object(c["a"])(te,h,v,!1,null,null,null),ne=se.exports,ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("img",{attrs:{src:s("cf05")}}),n("h3",[e._v("Sign In")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("br"),n("button",{on:{click:e.login}},[e._v("Sign In")]),n("button",{on:{click:e.loginAsGuest}},[e._v("Sign In As Guest")])])},oe=[],ae={name:"login",data:function(){return{email:"",password:""}},methods:{login:function(){var e=this;p.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(t){e.$router.replace("home"),e.$store.commit("setCurrentUser",t)},function(e){alert("Oops. "+e.message)})},loginAsGuest:function(){var e=this;p.a.auth().signInWithEmailAndPassword("guest@domain.com","guest@123").then(function(){e.$router.replace("home")},function(){p.a.auth().createUserWithEmailAndPassword("guest@domain.com","guest@123").then(function(){e.$router.replace("home")},function(e){alert("Oops. "+e.message)})})}}},re=ae,ce=(s("71ab"),Object(c["a"])(re,ie,oe,!1,null,"d07a4652",null)),de=ce.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sign-up"},[n("img",{attrs:{src:s("cf05")}}),n("p",[e._v("Let's create a new account !")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"Name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("br"),n("button",{on:{click:e.signUp}},[e._v("Sign Up")]),n("span",[e._v("or go back to "),n("router-link",{attrs:{to:"/login"}},[e._v("login")]),e._v(".")],1)])},me=[],pe={name:"signUp",data:function(){return{email:"",password:"",name:""}},methods:{signUp:function(){var e=this;p.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(t){t.updateProfile({displayName:e.name}),e.$router.replace("home")},function(e){alert("Oops. "+e.message)})}}},ue=pe,he=(s("b526"),Object(c["a"])(ue,le,me,!1,null,"1a75f273",null)),ve=he.exports;n["a"].use(u["a"]);var fe=new u["a"]({routes:[{path:"*",redirect:"/login"},{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:de},{path:"/sign-up",name:"SignUp",component:ve},{path:"/home",name:"Home",component:ne,meta:{requiresAuth:!0}}]});fe.beforeEach(function(e,t,s){var n=p.a.auth().currentUser,i=e.matched.some(function(e){return e.meta.requiresAuth});i&&!n?s("login"):!i&&n?s("home"):s()});var xe=fe;n["a"].use(x["a"]);var ge=new x["a"].Store({state:{currentUser:null,isAdmin:!1},mutations:{setCurrentUser:function(e,t){e.currentUser=t,e.isAdmin=t&&t.uid===g.adminUid}},actions:{}});O.auth.onAuthStateChanged(function(e){e&&ge.commit("setCurrentUser",e)});var Ce=ge;n["a"].config.productionTip=!1;var Ee="";O.auth.onAuthStateChanged(function(){Ee||(Ee=new n["a"]({router:xe,store:Ce,render:function(e){return e(l)}}).$mount("#app"))})},5801:function(e,t,s){},"71ab":function(e,t,s){"use strict";var n=s("885d"),i=s.n(n);i.a},"885d":function(e,t,s){},9719:function(e,t,s){"use strict";var n=s("5801"),i=s.n(n);i.a},b44e:function(e,t,s){},b526:function(e,t,s){"use strict";var n=s("269d"),i=s.n(n);i.a},c824:function(e,t,s){e.exports=s.p+"img/guest.svg"},cf05:function(e,t,s){e.exports=s.p+"img/logo.png"}});